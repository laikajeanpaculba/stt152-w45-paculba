---
title: "RBasics 2"
author: "Laika Jean B. Paculba"
date: "March 29, 2023"
output: pdf_document
---

List elements can be any data type and any dimensions 
Each element can be given a name

Arrays - are n-dimensional data structures 

# Heterogeneous structure 

List are one- dimension data is not one time only

```{r echo=TRUE, warning=FALSE}
my_list <- c(6, TRUE, "hello")
str(my_list)
my_list <- list(6, TRUE, "hello")
str(my_list)
```

vector- homogeneous sa data structure nga type

Data is read into the matrix down the columns, starting left and moving right.

Named list elements can be accessed by using $
```{r}
new_list <- list(
scalar = c("Hello", "Goodbye"),
matrix = matrix(1:4, nrow=2, ncol=2)
)
str(new_list)
new_list$matrix
```

Data frames most used data structure, they are effectively named list of vectors of the same length with each vector as a column

similar in nature to a typical database table, google sheet, excel

two vectors of different types but same length
```{r}
names <- c("John", "Ayesha")
ages <- c(31, 24)
(df <- data.frame(names, ages)) #create dataframe
str(df) #get two types of columns
dim(df) #get dimensions
```

```{r}
names <- c("John", "Ayesha")
ages <- c(31, 24)
(df <- data.frame(names, ages)) 
str(df) 
dim(df) 
```

dataframe most commonly used by data analyst 

to work with data in R, usually need to pull it in from an outside source into a dataframe
```
R data sets
```

r facilitates numerous ways of importing, databases

The read.csv() function can accept a URL address of the file if it is online

```{r}
# url of dataset
url <- "https://raw.githubusercontent.com/msuiitdmsgabriel/datasets-regression/main/salespeople.csv"
# load the data set and store it as a dataframe called salespeople
salespeople <- read.csv(url)
View(salespeople)
```

read downloaded file

read.csv("salespeople.csv")
salespeople_local <- read.csv("salespeople.csv")


we can view dimensions, and if it is too big to display, we can use the head() function to display just the first few rows

```{r}
dim(salespeople)
# hundreds of rows, so view first few
head(salespeople)
```

view a specific view by using $ sign and use 

```{r}
salespeople$sales
salespeople$sales[6]
```

use [row, column] index to get a specific entry in the dataframe

salespeople[34,4]

```{r}
salespeople[34,4] #access specific row and column
salespeople[34,] #access the whole row
salespeople[,4] #access the whole column
```
look at datatypes using str
```{r}
str(salespeople)
```

see statistical summary of each column by using summary(), which tells us various statistics depending on the type of the column

```{r}
summary(salespeople)
```

note that there are missing data in this dataframe(NA)

missing data denoted as NA

function is.na() look at all values in a vector or dataframe and return TRUE, False

by adding sum() function, counts NA as 1

counts how many missing data in dataframe

```{r}
is.na(salespeople$sales)
is.na(salespeople)
sum(is.na(salespeople))
```

complete.cases identify rows without NAs


```{r}
salespeople <- salespeople[complete.cases(salespeople),] #override the content of the first object with missing values
complete.cases(salespeople)
sum(is.na(salespeople)) #confirm no NAs
salespeople[complete.cases(salespeople),] #only the complete cases
```

unique() function 
extract different values -- unique(salespeople$performance)
```{r}
unique(salespeople$performance)
```

as.numeric() -- change to numeric
as.factor()

```{r}
as.factor(salespeople$performance) #produce factor
salespeople$performance <- as.factor(salespeople$performance) #override salespeople as factor
str(salespeople)
```

# Manipulating data frames


```{r}
(sales_720 <- subset(salespeople, subset = sales == 720))
```
## Inequality

select all rows that the value is greather than or equal to 700 show the first 6 rows
exclude rows that has 720
```{r}
high_sales <- subset(salespeople, subset = sales >= 700)
subset(salespeople, subset = sales != 700)
head(high_sales)
```


select specific columns using select argument
```{r}
salespeople_sales_perf <- subset(salespeople, select = c("sales", "performance"))
head(salespeople_sales_perf)
```

two dataframes with thje same name can be combined 

```{r}
low_sales <- subset(salespeople, subset = sales < 400)
#bind the rows of low_sales and high_sales together
low_and_high_sales = rbind(low_sales, high_sales) #combined low and high sales together
head(low_and_high_sales)
```

```{r}
#two dataframes with columns each
sales_perf <- subset(salespeople, select = c("sales", "performance"))
prom_custrate <- subset(salespeople, select = c("promoted", "customer_rate"))
#bind the columns to create a dataframe with four columns
full_df <- cbind(sales_perf, prom_custrate)
head(full_df)
```

cbind makes data apad

rbind is below

## Functions and

head()
subset()
rbind()
- combine row wise

exist to perform common operations

head()
displays the 6 rows with one required the name of the dataframe
default value n= 6

```{r}
head(full_df, n=10)
```

```{r}
?head
head(x = full_df, n = 10)
head(full_df, n = 10)
```

```{r}
#see the headspeople 
head(salespeople,3) #3 is used to override the default value 6
```

```{r}
#if you don't know the right order of the name your arguments and you can put them in any order
head(n = 3, x = salespeople)
```

# Help Functions
```
help(head)
?head
```

open help browser and do the search there

help:
examples
required and optional arguments
data type of input and output

## Writing yopur own functions
functions are not limited in package in R
write own functions helpful in  their 
Don't Repeat yourself(DRY)
write the same code numerous times for practice

generates  a report on a Dataframe

```{r}
#create df_report function
df_report <- function(df) {
  paste("This dataframe contains", nrow(df),
  "rows and", ncol(df), 
  "columns. There are", sum(is.na(df)), 
  "NA entries"
  )
}
```

```{r}
df_report(salespeople)
df_report(sales_720)
df_report(low_and_high_sales)
#df_report(salespeople_local) (?)
```



in this example, a simple function is written which generates a report on dataframe
```{r}
df_report <- function(df) {
  paste(
    "This dataframe contains", nrow(df),
    "rows and", ncol(df),
    "columns. There are", sum(is.na(df)),
    "NA entries."
  )
}
````

INSTALLING PACKAGES

before an external package

INSTALL mass, TYPE

```{r}
install.packages("MASS")
```
needs internet acess

CRAn - will send r 
find the right version of MASS
id MASS meeds other pacvkages to owrk it will also install other packages called dependencies

if nadelete tanan packages in r you can use this:
```{r}
my_packages <- c("MASS, "DescTools", "dplyr")
```
can be used dependently(?)

HELP function 
```{r}
help(package="MASS")
```

USING PACKAGES

load the package, library command
to have accesss on the functions
```{r}
library(MASS)
```

functions BELONG to packages
messages will alert you
r always defaults to the func most recently loaded
namespacing your functions
To namespace, use package 
MASS::

THE PIPE OPERATOR
makes code more antural to read and write and reduces 
comes inside many r packages particularly magrittr and dplyr
ex. 
1. subset salespeople to only the sales values of those with sales less than 500
2. take the mean of those values
```{r}
sales <- subset(salespeople$sales, subset = salespeople$sales < 500)
mean(subset(salespeople$sales, subset = salespeople$sales < 500))
```

```{r}
library(magrittr)
subset(salespeople$sales, subset = salespeople$sales < 500) %>% mean()
```
```{r}
#based on pipe intax
salespeople$sales %>% #start with all the data
  subset(subset = salespeople$sales < 500) %>%
  # get the subsetted data
  mean() %>% # take the mean value
  round() # round to the nearest integer
#based on r intax
round(mean(subset(salespeople$sales, subset = salespeople$sales < 500)))
```
  
  pipe operator widely used in r

ERORS WARNINGS AND MESSAGES IN R
  
  ```{r}
  subset(salespeople, subset = sales = 720)
  #correct
  subset(salespeople, subset = sales == 720)
  ```
  
  ```{r}
  head[salespeople]
  ```
  
  stack overflow improve doing R (should try)
  
  Warnings less serious than error 
  in many cases could ignore warnings
  messages - pieces of information that 
  
  PLOTTING AND GRAPHING
